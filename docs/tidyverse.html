<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Using tidyverse | PSYC208 R Companion Website</title>
  <meta name="description" content="This is the companion website to my PSYC208 class." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Using tidyverse | PSYC208 R Companion Website" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is the companion website to my PSYC208 class." />
  <meta name="github-repo" content="hueywoon/assignment" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Using tidyverse | PSYC208 R Companion Website" />
  
  <meta name="twitter:description" content="This is the companion website to my PSYC208 class." />
  

<meta name="author" content="Huey Woon LEE" />


<meta name="date" content="2022-04-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="basics.html"/>
<link rel="next" href="tha1.html"/>
<script src="libs/header-attrs-2.12/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="lib/css/bootstrap.min.css" type="text/css" />
<link rel="stylesheet" href="lib/css/style.css" type="text/css" />
<link rel="stylesheet" href="lib/css/lesson.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">PSYC208 Take Home Assignment</a></li>

<li class="divider"></li>
<li><a href="index.html#about-this-website">About This Website<span></span></a></li>
<li class="chapter" data-level="1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>1</b> Getting Started<span></span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="getting-started.html"><a href="getting-started.html#install-r-and-rstudio"><i class="fa fa-check"></i><b>1.1</b> Install R and RStudio<span></span></a></li>
<li class="chapter" data-level="1.2" data-path="getting-started.html"><a href="getting-started.html#the-rstudio-interface"><i class="fa fa-check"></i><b>1.2</b> The RStudio Interface<span></span></a></li>
<li class="chapter" data-level="1.3" data-path="getting-started.html"><a href="getting-started.html#r-script"><i class="fa fa-check"></i><b>1.3</b> R Script<span></span></a></li>
<li class="chapter" data-level="1.4" data-path="getting-started.html"><a href="getting-started.html#some-tips-and-tricks"><i class="fa fa-check"></i><b>1.4</b> Some Tips and Tricks<span></span></a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="getting-started.html"><a href="getting-started.html#softwrap-long-lines"><i class="fa fa-check"></i><b>1.4.1</b> Softwrap Long Lines<span></span></a></li>
<li class="chapter" data-level="1.4.2" data-path="getting-started.html"><a href="getting-started.html#make-notes-or-comments"><i class="fa fa-check"></i><b>1.4.2</b> Make Notes or Comments<span></span></a></li>
<li class="chapter" data-level="1.4.3" data-path="getting-started.html"><a href="getting-started.html#style-guide"><i class="fa fa-check"></i><b>1.4.3</b> Style Guide<span></span></a></li>
<li class="chapter" data-level="1.4.4" data-path="getting-started.html"><a href="getting-started.html#setting-working-directory"><i class="fa fa-check"></i><b>1.4.4</b> Setting working directory<span></span></a></li>
<li class="chapter" data-level="1.4.5" data-path="getting-started.html"><a href="getting-started.html#using-r-projects"><i class="fa fa-check"></i><b>1.4.5</b> Using R Projects<span></span></a></li>
<li class="chapter" data-level="1.4.6" data-path="getting-started.html"><a href="getting-started.html#debugging"><i class="fa fa-check"></i><b>1.4.6</b> Debugging<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i><b>2</b> Basics<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="basics.html"><a href="basics.html#some-basic-commands"><i class="fa fa-check"></i><b>2.1</b> Some Basic Commands<span></span></a></li>
<li class="chapter" data-level="2.2" data-path="basics.html"><a href="basics.html#typing-and-executing-commands"><i class="fa fa-check"></i><b>2.2</b> Typing and Executing Commands<span></span></a></li>
<li class="chapter" data-level="2.3" data-path="basics.html"><a href="basics.html#entering-data-directly-into-r"><i class="fa fa-check"></i><b>2.3</b> Entering Data Directly Into R<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>3</b> Using tidyverse<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="tidyverse.html"><a href="tidyverse.html#installing-and-loading-tidyverse"><i class="fa fa-check"></i><b>3.1</b> Installing and Loading tidyverse<span></span></a></li>
<li class="chapter" data-level="3.2" data-path="tidyverse.html"><a href="tidyverse.html#import-data"><i class="fa fa-check"></i><b>3.2</b> Import Data<span></span></a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="tidyverse.html"><a href="tidyverse.html#check-imported-dataset"><i class="fa fa-check"></i><b>3.2.1</b> Check Imported Dataset<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="tidyverse.html"><a href="tidyverse.html#factors"><i class="fa fa-check"></i><b>3.3</b> Factors<span></span></a></li>
<li class="chapter" data-level="3.4" data-path="tidyverse.html"><a href="tidyverse.html#data-wrangling-with-dplyr"><i class="fa fa-check"></i><b>3.4</b> Data wrangling with dplyr<span></span></a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="tidyverse.html"><a href="tidyverse.html#select"><i class="fa fa-check"></i><b>3.4.1</b> Select()<span></span></a></li>
<li class="chapter" data-level="3.4.2" data-path="tidyverse.html"><a href="tidyverse.html#filter"><i class="fa fa-check"></i><b>3.4.2</b> Filter()<span></span></a></li>
<li class="chapter" data-level="3.4.3" data-path="tidyverse.html"><a href="tidyverse.html#mutate"><i class="fa fa-check"></i><b>3.4.3</b> Mutate()<span></span></a></li>
<li class="chapter" data-level="3.4.4" data-path="tidyverse.html"><a href="tidyverse.html#summarise"><i class="fa fa-check"></i><b>3.4.4</b> Summarise()<span></span></a></li>
<li class="chapter" data-level="3.4.5" data-path="tidyverse.html"><a href="tidyverse.html#group_by"><i class="fa fa-check"></i><b>3.4.5</b> Group_by()<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tha1.html"><a href="tha1.html"><i class="fa fa-check"></i><b>4</b> Assignment 1<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="tha1.html"><a href="tha1.html#due-date-dd-mm-yyyy"><i class="fa fa-check"></i><b>4.1</b> Due Date: DD-MM-YYYY<span></span></a></li>
<li class="chapter" data-level="4.2" data-path="tha1.html"><a href="tha1.html#instructions"><i class="fa fa-check"></i><b>4.2</b> Instructions<span></span></a></li>
<li class="chapter" data-level="4.3" data-path="tha1.html"><a href="tha1.html#legend"><i class="fa fa-check"></i><b>4.3</b> Legend<span></span></a></li>
<li class="chapter" data-level="4.4" data-path="tha1.html"><a href="tha1.html#check-your-results-with-mine"><i class="fa fa-check"></i><b>4.4</b> Check Your Results With Mine<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="tha2.html"><a href="tha2.html"><i class="fa fa-check"></i><b>5</b> Assignment 2<span></span></a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">PSYC208 R Companion Website</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tidyverse" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">3</span> Using tidyverse<a href="tidyverse.html#tidyverse" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>The <code>tidyverse</code> is a collection of R packages that many data analysts use. In this course, we will be heavily relying on a few of the packages such as <code>readr</code>, <code>dplyr</code> and <code>ggplot2</code> that are in this collection. Instead of installing each package separately as we normally would, we can simply install <code>tidyverse</code> and that would install all the other packages that we want.</p>
<div id="installing-and-loading-tidyverse" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Installing and Loading tidyverse<a href="tidyverse.html#installing-and-loading-tidyverse" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To install <code>tidyverse</code>, use the function <code>install.packages()</code>.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="tidyverse.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>)</span></code></pre></div>
<p>Although we have installed tidyverse, we cannot use it unless we load it. To load it, we need the <code>library()</code> function.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="tidyverse.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<p><em>Note.</em> You can temporarily load a package without using the <code>library()</code> function using the notation <code>package::function</code>. This tells R to load the package for a specific chunk of code and not for the entire session. This allows anyone who reads the code to know which package the function comes from. I typically don’t do this because it can be quite tiresome to keep typing the name of the package over and over.</p>
<p>However, <code>package::function</code> comes in especially handy when we want to help R distinguish between two packages with the same function names. For example, the packages <code>ggplot2</code> and <code>psych</code> both have a function <code>alpha()</code>. R doesn’t know which package to choose if you have both packages loaded. So, to specify that you want to use the function from the <code>psych</code> package, you should type <code>psych::alpha()</code>.</p>
<p>Now that we have <code>tidyverse</code> loaded, let’s do stuff with it. Let’s start with importing data.</p>
</div>
<div id="import-data" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Import Data<a href="tidyverse.html#import-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Usually, R users do not have to enter their data into R directly. Instead, they already have their dataset in various formats, such as .csv, .txt, .sav, .xlsx, etc. So what they need to do is to import the dataset into R.</p>
<p>In this class, I will use .csv files. To import .csv files, we can use the <code>read_csv()</code> function from the <code>readr</code> package in <code>tidyverse</code>. I have created a hypothetical dataset for my examples here. To follow along, please download the dataset here: <a href="SWB.csv">SWB.csv</a>.</p>
<p>In this hypothetical dataset, 343 participants provided demographic information and responded to the Materialism Values Survey (MVS) and the Satisfaction with Life Scale in 2019 (SWLS2019). The same participants were asked to respond to the Satisfaction with Life Scale in 2021 (SWLS2021). The legend for this dataset is as follows:</p>
<table>
<colgroup>
<col width="26%" />
<col width="16%" />
<col width="56%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Variable Name</th>
<th align="left">Variable Label</th>
<th align="left">Value Label</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">pin</td>
<td align="left">participant identification number</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">gender</td>
<td align="left">gender</td>
<td align="left">0 = male, 1 = female</td>
</tr>
<tr class="odd">
<td align="left">marital_status</td>
<td align="left">marital status</td>
<td align="left">1 = married, 2 = divorced, 3 = widowed</td>
</tr>
<tr class="even">
<td align="left">have_children</td>
<td align="left">parental status</td>
<td align="left">0 = no children, 1 = have children</td>
</tr>
<tr class="odd">
<td align="left">mvs_1</td>
<td align="left">My life would be better if I own certain things I don’t have.</td>
<td align="left">1 = strongly disagree, 2 = disagree, 3 = neither disagree nor agree, 4 = agree, 5 = strongly agree</td>
</tr>
<tr class="even">
<td align="left">mvs_2</td>
<td align="left">The things I own say a lot about how well I’m doing.</td>
<td align="left">1 = strongly disagree, 2 = disagree, 3 = neither disagree nor agree, 4 = agree, 5 = strongly agree</td>
</tr>
<tr class="odd">
<td align="left">mvs_3</td>
<td align="left">I’d be happier if I could afford to buy more things.</td>
<td align="left">1 = strongly disagree, 2 = disagree, 3 = neither disagree nor agree, 4 = agree, 5 = strongly agree</td>
</tr>
<tr class="even">
<td align="left">mvs_4</td>
<td align="left">It bothers me that I can’t afford to buy things I’d like.</td>
<td align="left">1 = strongly disagree, 2 = disagree, 3 = neither disagree nor agree, 4 = agree, 5 = strongly agree</td>
</tr>
<tr class="odd">
<td align="left">mvs_5</td>
<td align="left">Buying things gives me a lot of pleasure.</td>
<td align="left">1 = strongly disagree, 2 = disagree, 3 = neither disagree nor agree, 4 = agree, 5 = strongly agree</td>
</tr>
<tr class="even">
<td align="left">mvs_6</td>
<td align="left">I admire people who own expensive homes, cars, clothes.</td>
<td align="left">1 = strongly disagree, 2 = disagree, 3 = neither disagree nor agree, 4 = agree, 5 = strongly agree</td>
</tr>
<tr class="odd">
<td align="left">mvs_7</td>
<td align="left">I like to own things that impress people.</td>
<td align="left">1 = strongly disagree, 2 = disagree, 3 = neither disagree nor agree, 4 = agree, 5 = strongly agree</td>
</tr>
<tr class="even">
<td align="left">mvs_8</td>
<td align="left">I like a lot of luxury in my life.</td>
<td align="left">1 = strongly disagree, 2 = disagree, 3 = neither disagree nor agree, 4 = agree, 5 = strongly agree</td>
</tr>
<tr class="odd">
<td align="left">mvs_9</td>
<td align="left">I try to keep my life simple, as far as possessions are concerned. (R)</td>
<td align="left">1 = strongly disagree, 2 = disagree, 3 = neither disagree nor agree, 4 = agree, 5 = strongly agree</td>
</tr>
<tr class="even">
<td align="left">swls2019_1</td>
<td align="left">In most ways my life is close to my ideal. (2019)</td>
<td align="left">1 = strongly disagree, 2 = disagree, 3 = slightly disagree, 4 = neither disagree nor agree, 5 = slightly agree, 6 = agree, 7 = strongly agree</td>
</tr>
<tr class="odd">
<td align="left">swls2019_2</td>
<td align="left">The conditions of my life are excellent. (2019)</td>
<td align="left">1 = strongly disagree, 2 = disagree, 3 = slightly disagree, 4 = neither disagree nor agree, 5 = slightly agree, 6 = agree, 7 = strongly agree</td>
</tr>
<tr class="even">
<td align="left">swls2019_3</td>
<td align="left">I am satisfied with my life. (2019)</td>
<td align="left">1 = strongly disagree, 2 = disagree, 3 = slightly disagree, 4 = neither disagree nor agree, 5 = slightly agree, 6 = agree, 7 = strongly agree</td>
</tr>
<tr class="odd">
<td align="left">swls2019_4</td>
<td align="left">So far I have gotten the important things I want in life. (2019)</td>
<td align="left">1 = strongly disagree, 2 = disagree, 3 = slightly disagree, 4 = neither disagree nor agree, 5 = slightly agree, 6 = agree, 7 = strongly agree</td>
</tr>
<tr class="even">
<td align="left">swls2019_5</td>
<td align="left">In most ways my life is close to my ideal. (2019)</td>
<td align="left">1 = strongly disagree, 2 = disagree, 3 = slightly disagree, 4 = neither disagree nor agree, 5 = slightly agree, 6 = agree, 7 = strongly agree</td>
</tr>
<tr class="odd">
<td align="left">swls2021_1</td>
<td align="left">In most ways my life is close to my ideal. (2021)</td>
<td align="left">1 = strongly disagree, 2 = disagree, 3 = slightly disagree, 4 = neither disagree nor agree, 5 = slightly agree, 6 = agree, 7 = strongly agree</td>
</tr>
<tr class="even">
<td align="left">swls2021_2</td>
<td align="left">The conditions of my life are excellent. (2021)</td>
<td align="left">1 = strongly disagree, 2 = disagree, 3 = slightly disagree, 4 = neither disagree nor agree, 5 = slightly agree, 6 = agree, 7 = strongly agree</td>
</tr>
<tr class="odd">
<td align="left">swls2021_3</td>
<td align="left">I am satisfied with my life. (2021)</td>
<td align="left">1 = strongly disagree, 2 = disagree, 3 = slightly disagree, 4 = neither disagree nor agree, 5 = slightly agree, 6 = agree, 7 = strongly agree</td>
</tr>
<tr class="even">
<td align="left">swls2021_4</td>
<td align="left">So far I have gotten the important things I want in life. (2021)</td>
<td align="left">1 = strongly disagree, 2 = disagree, 3 = slightly disagree, 4 = neither disagree nor agree, 5 = slightly agree, 6 = agree, 7 = strongly agree</td>
</tr>
<tr class="odd">
<td align="left">swls2021_5</td>
<td align="left">In most ways my life is close to my ideal. (2021)</td>
<td align="left">1 = strongly disagree, 2 = disagree, 3 = slightly disagree, 4 = neither disagree nor agree, 5 = slightly agree, 6 = agree, 7 = strongly agree</td>
</tr>
</tbody>
</table>
<p>Let’s read in the .csv file.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="tidyverse.html#cb23-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;SWB.csv&quot;</span>)</span>
<span id="cb23-2"><a href="tidyverse.html#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="tidyverse.html#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="co"># this code is saying...</span></span>
<span id="cb23-4"><a href="tidyverse.html#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="co"># read in the .csv file, &quot;SWB.csv&quot; and assign it to &quot;data&quot;</span></span>
<span id="cb23-5"><a href="tidyverse.html#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co"># from now on, &quot;data&quot; will refer to the data in this csv file</span></span></code></pre></div>
<p>You may also use the built-in R function <code>read.csv()</code>. If you do so, you don’t have to load the <code>tidyverse</code> package.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="tidyverse.html#cb24-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;SWB.csv&quot;</span>)</span></code></pre></div>
<p><code>read.csv()</code> is supposedly slower than <code>read_csv()</code>, which in turn is slower than <code>data.table</code>’s <code>fread()</code>. For our purposes, though, it really doesn’t matter which you use, so long as you can successfully import the data file.</p>
<p>If you have other file types, such as .txt, .sav, .xlsx, you might need different packages. For example, for excel files (.xlsx), you will need the <code>readxl</code> package. For SPSS (.sav), you will need the <code>haven</code> package or the <code>foreign</code> package. For this class, I won’t use file types aside from .csv, but it is good to be aware of the packages to use if you want to import other file types.</p>
<div id="check-imported-dataset" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Check Imported Dataset<a href="tidyverse.html#check-imported-dataset" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Before conducting any analyses, check that the dataset has been imported correctly. Go to the <code>Environment</code> pane (top right pane). Click <code>data</code>. The top left pane should show the imported data. Alternatively, you may type <code>View(data)</code> into the console.</p>
<ol style="list-style-type: decimal">
<li><strong>Rows</strong>: The data for each participant is recorded in a single row (e.g., data for Participant 1 is in Row 1)</li>
<li><strong>Columns</strong>: The data for each variable is recorded in a single column. Names of the variables are in the headers for each column</li>
</ol>
<p>Scroll down to ensure all rows have been imported correctly. There should be 343 rows. Scroll right to ensure all columns have been imported correctly. There should be 23 columns.</p>
<p>Another way to check the imported dataset is using the <code>str()</code> or the <code>glimpse()</code> functions. Both give you roughly similar information (e.g., that there are 343 rows and 23 columns, the names of the variables, the values for the first 10 or so participants)</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="tidyverse.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(data)</span></code></pre></div>
<pre><code>## spec_tbl_df [343 x 23] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
##  $ pin           : num [1:343] 1 2 3 4 5 6 7 8 9 10 ...
##  $ gender        : num [1:343] 0 1 1 1 1 0 1 0 1 0 ...
##  $ marital_status: num [1:343] 1 1 3 1 2 1 2 1 2 1 ...
##  $ have_children : num [1:343] 0 1 0 0 0 1 0 0 0 1 ...
##  $ mvs_1         : num [1:343] 4 4 5 2 2 3 2 2 3 2 ...
##  $ mvs_2         : num [1:343] 3 3 4 3 2 4 3 3 4 3 ...
##  $ mvs_3         : num [1:343] 3 3 4 3 3 4 3 3 4 3 ...
##  $ mvs_4         : num [1:343] 3 3 3 2 2 5 4 4 3 4 ...
##  $ mvs_5         : num [1:343] 3 3 4 3 3 4 3 3 4 2 ...
##  $ mvs_6         : num [1:343] 4 4 5 2 2 3 4 4 5 2 ...
##  $ mvs_7         : num [1:343] 3 2 4 2 3 3 3 3 4 3 ...
##  $ mvs_8         : num [1:343] 4 4 5 4 4 5 3 3 4 3 ...
##  $ mvs_9         : num [1:343] 2 2 1 3 3 2 3 3 2 4 ...
##  $ swls2019_1    : num [1:343] 4 5 4 6 5 5 2 4 5 5 ...
##  $ swls2019_2    : num [1:343] 4 6 4 5 4 4 3 3 5 5 ...
##  $ swls2019_3    : num [1:343] 5 5 4 7 4 4 3 3 5 5 ...
##  $ swls2019_4    : num [1:343] 5 6 5 6 4 5 3 3 4 6 ...
##  $ swls2019_5    : num [1:343] 4 6 5 5 5 4 3 3 5 6 ...
##  $ swls2021_1    : num [1:343] 4 4 3 5 4 5 2 4 4 5 ...
##  $ swls2021_2    : num [1:343] 4 6 3 5 3 4 2 3 4 5 ...
##  $ swls2021_3    : num [1:343] 5 4 4 6 4 3 4 3 5 4 ...
##  $ swls2021_4    : num [1:343] 5 5 5 6 4 4 3 3 4 5 ...
##  $ swls2021_5    : num [1:343] 4 5 5 5 5 4 3 3 5 6 ...
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   pin = col_double(),
##   ..   gender = col_double(),
##   ..   marital_status = col_double(),
##   ..   have_children = col_double(),
##   ..   mvs_1 = col_double(),
##   ..   mvs_2 = col_double(),
##   ..   mvs_3 = col_double(),
##   ..   mvs_4 = col_double(),
##   ..   mvs_5 = col_double(),
##   ..   mvs_6 = col_double(),
##   ..   mvs_7 = col_double(),
##   ..   mvs_8 = col_double(),
##   ..   mvs_9 = col_double(),
##   ..   swls2019_1 = col_double(),
##   ..   swls2019_2 = col_double(),
##   ..   swls2019_3 = col_double(),
##   ..   swls2019_4 = col_double(),
##   ..   swls2019_5 = col_double(),
##   ..   swls2021_1 = col_double(),
##   ..   swls2021_2 = col_double(),
##   ..   swls2021_3 = col_double(),
##   ..   swls2021_4 = col_double(),
##   ..   swls2021_5 = col_double()
##   .. )
##  - attr(*, &quot;problems&quot;)=&lt;externalptr&gt;</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="tidyverse.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(data)</span></code></pre></div>
<pre><code>## Rows: 343
## Columns: 23
## $ pin            &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, ~
## $ gender         &lt;dbl&gt; 0, 1, 1, 1, 1, 0, 1, 0, 1, 0, 0, 1, 1, 0, 0, 1, 0, 0, 0~
## $ marital_status &lt;dbl&gt; 1, 1, 3, 1, 2, 1, 2, 1, 2, 1, 3, 2, 3, 3, 3, 1, 1, 1, 3~
## $ have_children  &lt;dbl&gt; 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1, 1, 1, 1, 0~
## $ mvs_1          &lt;dbl&gt; 4, 4, 5, 2, 2, 3, 2, 2, 3, 2, 2, 3, 2, 2, 3, 3, 3, 4, 3~
## $ mvs_2          &lt;dbl&gt; 3, 3, 4, 3, 2, 4, 3, 3, 4, 3, 2, 4, 1, 3, 2, 3, 2, 4, 3~
## $ mvs_3          &lt;dbl&gt; 3, 3, 4, 3, 3, 4, 3, 3, 4, 3, 3, 4, 2, 2, 3, 4, 4, 5, 3~
## $ mvs_4          &lt;dbl&gt; 3, 3, 3, 2, 2, 5, 4, 4, 3, 4, 4, 4, 2, 2, 4, 3, 3, 4, 4~
## $ mvs_5          &lt;dbl&gt; 3, 3, 4, 3, 3, 4, 3, 3, 4, 2, 2, 3, 3, 3, 4, 4, 4, 5, 3~
## $ mvs_6          &lt;dbl&gt; 4, 4, 5, 2, 2, 3, 4, 4, 5, 2, 2, 3, 3, 3, 4, 2, 2, 3, 4~
## $ mvs_7          &lt;dbl&gt; 3, 2, 4, 2, 3, 3, 3, 3, 4, 3, 1, 4, 4, 1, 5, 1, 3, 2, 3~
## $ mvs_8          &lt;dbl&gt; 4, 4, 5, 4, 4, 5, 3, 3, 4, 3, 3, 4, 2, 2, 3, 3, 3, 4, 4~
## $ mvs_9          &lt;dbl&gt; 2, 2, 1, 3, 3, 2, 3, 3, 2, 4, 4, 3, 4, 4, 3, 3, 3, 2, 3~
## $ swls2019_1     &lt;dbl&gt; 4, 5, 4, 6, 5, 5, 2, 4, 5, 5, 5, 3, 4, 5, 4, 5, 5, 6, 4~
## $ swls2019_2     &lt;dbl&gt; 4, 6, 4, 5, 4, 4, 3, 3, 5, 5, 5, 4, 3, 5, 4, 4, 4, 6, 5~
## $ swls2019_3     &lt;dbl&gt; 5, 5, 4, 7, 4, 4, 3, 3, 5, 5, 4, 4, 3, 4, 3, 4, 4, 5, 4~
## $ swls2019_4     &lt;dbl&gt; 5, 6, 5, 6, 4, 5, 3, 3, 4, 6, 4, 4, 4, 5, 4, 4, 5, 6, 4~
## $ swls2019_5     &lt;dbl&gt; 4, 6, 5, 5, 5, 4, 3, 3, 5, 6, 5, 4, 3, 4, 3, 5, 5, 6, 4~
## $ swls2021_1     &lt;dbl&gt; 4, 4, 3, 5, 4, 5, 2, 4, 4, 5, 5, 2, 3, 5, 4, 4, 5, 6, 4~
## $ swls2021_2     &lt;dbl&gt; 4, 6, 3, 5, 3, 4, 2, 3, 4, 5, 4, 3, 2, 4, 3, 4, 4, 6, 4~
## $ swls2021_3     &lt;dbl&gt; 5, 4, 4, 6, 4, 3, 4, 3, 5, 4, 4, 4, 3, 4, 2, 3, 3, 4, 4~
## $ swls2021_4     &lt;dbl&gt; 5, 5, 5, 6, 4, 4, 3, 3, 4, 5, 4, 4, 4, 5, 3, 3, 4, 5, 4~
## $ swls2021_5     &lt;dbl&gt; 4, 5, 5, 5, 5, 4, 3, 3, 5, 6, 5, 4, 3, 4, 3, 4, 5, 6, 4~</code></pre>
</div>
</div>
<div id="factors" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Factors<a href="tidyverse.html#factors" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When you look at the output from <code>str(data)</code> or <code>glimpse(data)</code>, you can see that some values don’t seem to make sense on their own. For example, what do 0 and 1 in gender mean? From the legend table produced earlier, we can see that 0 stands for male and 1 stands for female. But having to consult the table every time we do an analysis is tiresome and also error-prone. So, we use the <code>factor()</code> command to tell R what those values mean for categorical variables.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="tidyverse.html#cb29-1" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>gender <span class="ot">&lt;-</span> <span class="fu">factor</span>(data<span class="sc">$</span>gender, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;male&quot;</span>, <span class="st">&quot;female&quot;</span>))</span>
<span id="cb29-2"><a href="tidyverse.html#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Here, level 0 = label “male”, level 1 = label “female”</span></span>
<span id="cb29-3"><a href="tidyverse.html#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Also notice that male and female are enclosed in quotation marks because these are string variables.</span></span>
<span id="cb29-4"><a href="tidyverse.html#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="tidyverse.html#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Check that gender is now a factor</span></span>
<span id="cb29-6"><a href="tidyverse.html#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(data<span class="sc">$</span>gender)</span></code></pre></div>
<pre><code>##  Factor w/ 2 levels &quot;male&quot;,&quot;female&quot;: 1 2 2 2 2 1 2 1 2 1 ...</code></pre>
</div>
<div id="data-wrangling-with-dplyr" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Data wrangling with dplyr<a href="tidyverse.html#data-wrangling-with-dplyr" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>What should we do after importing a dataset? Well, there are many things we can do! We might want to, say, select specific columns to analyse. Or, we might only want to look at specific participants. Or we might want to create new variables from existing ones. All of these is made possible with functions in the <code>dplyr</code> package in <code>tidyverse</code>.</p>
<p>The functions we will use in this class from the <code>dplyr</code> package are as follows:</p>
<table>
<thead>
<tr class="header">
<th align="left">dplyr functions</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">select()</td>
<td align="left">select specific columns</td>
</tr>
<tr class="even">
<td align="left">filter()</td>
<td align="left">filter (keep, select) specific rows</td>
</tr>
<tr class="odd">
<td align="left">mutate()</td>
<td align="left">create new columns</td>
</tr>
<tr class="even">
<td align="left">summarise()</td>
<td align="left">summarise values</td>
</tr>
<tr class="odd">
<td align="left">group_by()</td>
<td align="left">apply operations to different groups</td>
</tr>
</tbody>
</table>
<p>There are more functions in the dplyr package! Check out the dplyr cheat sheet here: <a href="https://www.rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf" class="uri">https://www.rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf</a>.</p>
<p>Now, let’s go through the five listed above.</p>
<div id="select" class="section level3 hasAnchor" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> Select()<a href="tidyverse.html#select" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>select()</code> function allows us to select specific columns. This is especially useful if we have many columns to work with and we only want to focus on a few.</p>
<p>Let’s say we only want to select <code>gender</code> and the <code>swls2019_1</code> to <code>swls2019_5</code> columns in the <code>SWB</code> dataset. Here’s how we would do it:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="tidyverse.html#cb31-1" aria-hidden="true" tabindex="-1"></a>swls2019_only <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span>   <span class="co"># create the subset called &quot;swls2019_only&quot; from &quot;data&quot;</span></span>
<span id="cb31-2"><a href="tidyverse.html#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(gender, swls2019_1<span class="sc">:</span>swls2019_5)  <span class="co"># and select only gender and the columns swls2019_1 to swls2019_5</span></span></code></pre></div>
<p>This is what the first six rows of <code>swls2019_only</code> should look like:</p>
<pre><code>## # A tibble: 6 x 6
##   gender swls2019_1 swls2019_2 swls2019_3 swls2019_4 swls2019_5
##   &lt;fct&gt;       &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;
## 1 male            4          4          5          5          4
## 2 female          5          6          5          6          6
## 3 female          4          4          4          5          5
## 4 female          6          5          7          6          5
## 5 female          5          4          4          4          5
## 6 male            5          4          4          5          4</code></pre>
<p>I sometimes also use <code>select()</code> to re-arrange the order of the columns. (In <code>dplyr</code>, the specific function to re-arrange the order of the columns is <code>arrange()</code>. <code>arrange()</code> allows us to re-arrange rows in addition to columns.)</p>
<p>So, let’s say we want the <code>swls2019_1</code> to <code>swls2019_5</code> columns to come <em>before</em> <code>gender</code>. We simply list the <code>swls2019_1</code> to <code>swls2019_5</code> columns before <code>gender</code>.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="tidyverse.html#cb33-1" aria-hidden="true" tabindex="-1"></a>swls2019_genderlast <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span>   </span>
<span id="cb33-2"><a href="tidyverse.html#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(swls2019_1<span class="sc">:</span>swls2019_5, gender)  </span></code></pre></div>
<p>This is what the first six rows of <code>swls2019_genderlast</code> should look like:</p>
<pre><code>## # A tibble: 6 x 6
##   swls2019_1 swls2019_2 swls2019_3 swls2019_4 swls2019_5 gender
##        &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt; &lt;fct&gt; 
## 1          4          4          5          5          4 male  
## 2          5          6          5          6          6 female
## 3          4          4          4          5          5 female
## 4          6          5          7          6          5 female
## 5          5          4          4          4          5 female
## 6          5          4          4          5          4 male</code></pre>
</div>
<div id="filter" class="section level3 hasAnchor" number="3.4.2">
<h3><span class="header-section-number">3.4.2</span> Filter()<a href="tidyverse.html#filter" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Maybe we don’t want to select specific columns. Instead, we want to select specific kinds of participants to conduct our analyses on (e.g., say from specific treatment groups, or maybe only male participants). We use <code>filter()</code> to do that. New R users sometimes confuse <code>select()</code> with <code>filter()</code>. Here’s how to differentiate the two: <code>select()</code> is used to select columns (i.e., variables) whereas <code>filter()</code> is used to select rows (i.e., participants).</p>
<p>So, let’s say we want to select only male participants.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="tidyverse.html#cb35-1" aria-hidden="true" tabindex="-1"></a>male_only <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span>    <span class="co"># create &quot;male_only&quot; subset from &quot;data&quot;, </span></span>
<span id="cb35-2"><a href="tidyverse.html#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gender <span class="sc">==</span> <span class="st">&quot;male&quot;</span>)  <span class="co"># then filter (keep) only male participants</span></span></code></pre></div>
<p>Notice that the double equal sign <code>==</code> is used here. In programming languages, the <code>==</code> sign is used when we are comparing the left and the right hand side. Here, we’re comparing each row of the column <code>gender</code> to the word “male”. If that row matches the word “male”, we will filter (keep) that row. Otherwise, we will toss it out.</p>
<p>This is what the first six rows of male_only should look like:</p>
<pre><code>## # A tibble: 6 x 23
##     pin gender marital_status have_children mvs_1 mvs_2 mvs_3 mvs_4 mvs_5 mvs_6
##   &lt;dbl&gt; &lt;fct&gt;           &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1     1 male                1             0     4     3     3     3     3     4
## 2     6 male                1             1     3     4     4     5     4     3
## 3     8 male                1             0     2     3     3     4     3     4
## 4    10 male                1             1     2     3     3     4     2     2
## 5    11 male                3             0     2     2     3     4     2     2
## 6    14 male                3             0     2     3     2     2     3     3
## # ... with 13 more variables: mvs_7 &lt;dbl&gt;, mvs_8 &lt;dbl&gt;, mvs_9 &lt;dbl&gt;,
## #   swls2019_1 &lt;dbl&gt;, swls2019_2 &lt;dbl&gt;, swls2019_3 &lt;dbl&gt;, swls2019_4 &lt;dbl&gt;,
## #   swls2019_5 &lt;dbl&gt;, swls2021_1 &lt;dbl&gt;, swls2021_2 &lt;dbl&gt;, swls2021_3 &lt;dbl&gt;,
## #   swls2021_4 &lt;dbl&gt;, swls2021_5 &lt;dbl&gt;</code></pre>
</div>
<div id="mutate" class="section level3 hasAnchor" number="3.4.3">
<h3><span class="header-section-number">3.4.3</span> Mutate()<a href="tidyverse.html#mutate" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Sometimes, we might want to create new variables, say averages or totals. We can do this with <code>mutate()</code>.</p>
<p>Let’s say we want to find the average of <code>swls2019_1</code> to <code>swls2019_5</code> for each participant. We use the subset we created just now, <code>swls2019_only</code>.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="tidyverse.html#cb37-1" aria-hidden="true" tabindex="-1"></a>swls2019_only <span class="ot">&lt;-</span> swls2019_only <span class="sc">%&gt;%</span> </span>
<span id="cb37-2"><a href="tidyverse.html#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">swls2019_avg =</span> (swls2019_1 <span class="sc">+</span> swls2019_2 <span class="sc">+</span> swls2019_3 <span class="sc">+</span> swls2019_4 <span class="sc">+</span> swls2019_5) <span class="sc">/</span> <span class="dv">5</span>)</span></code></pre></div>
<p>The first 6 rows of <code>swls2019_only</code> now looks like this:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="tidyverse.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(swls2019_only)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 7
##   gender swls2019_1 swls2019_2 swls2019_3 swls2019_4 swls2019_5 swls2019_avg
##   &lt;fct&gt;       &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;        &lt;dbl&gt;
## 1 male            4          4          5          5          4          4.4
## 2 female          5          6          5          6          6          5.6
## 3 female          4          4          4          5          5          4.4
## 4 female          6          5          7          6          5          5.8
## 5 female          5          4          4          4          5          4.4
## 6 male            5          4          4          5          4          4.4</code></pre>
<p>There is another way you can achieve the same results using <code>rowMeans()</code>.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="tidyverse.html#cb40-1" aria-hidden="true" tabindex="-1"></a>swls2019_only <span class="ot">&lt;-</span> swls2019_only <span class="sc">%&gt;%</span> </span>
<span id="cb40-2"><a href="tidyverse.html#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">swls2019_avg_rowmeans =</span> <span class="fu">rowMeans</span>(<span class="fu">across</span>(<span class="fu">c</span>(swls2019_1<span class="sc">:</span>swls2019_5))))</span>
<span id="cb40-3"><a href="tidyverse.html#cb40-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-4"><a href="tidyverse.html#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="co"># rowMeans(across(c(swls2019_1:swls2019_5))) tells R that we want to find the mean (average) for each row (hence rowMeans) across the five variables, swls2019_1 to swls2019_5. </span></span></code></pre></div>
<p>Let’s compare <code>swls2019_avg</code> and <code>swls2019_avg_rowmeans</code>. Notice that the two columns give you the exact same results:</p>
<pre><code>## # A tibble: 6 x 2
##   swls2019_avg swls2019_avg_rowmeans
##          &lt;dbl&gt;                 &lt;dbl&gt;
## 1          4.4                   4.4
## 2          5.6                   5.6
## 3          4.4                   4.4
## 4          5.8                   5.8
## 5          4.4                   4.4
## 6          4.4                   4.4</code></pre>
</div>
<div id="summarise" class="section level3 hasAnchor" number="3.4.4">
<h3><span class="header-section-number">3.4.4</span> Summarise()<a href="tidyverse.html#summarise" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>summarise()</code> function is used when we want to get summary statistics such as the mean, median, maximum, minimum, etc for a given column in the data frame.</p>
<p>Let’s say we’re interested to know the mean, minimum, maximum, variance, standard deviation, total number of participants for <code>swls2019_avg</code>. Again, we will use our <code>swls2019_only</code> subset.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="tidyverse.html#cb42-1" aria-hidden="true" tabindex="-1"></a>swls2019_only <span class="sc">%&gt;%</span> </span>
<span id="cb42-2"><a href="tidyverse.html#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">avg_swls =</span> <span class="fu">mean</span>(swls2019_avg), </span>
<span id="cb42-3"><a href="tidyverse.html#cb42-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">min_swls =</span> <span class="fu">min</span>(swls2019_avg), </span>
<span id="cb42-4"><a href="tidyverse.html#cb42-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">max_swls =</span> <span class="fu">max</span>(swls2019_avg), </span>
<span id="cb42-5"><a href="tidyverse.html#cb42-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">var_swls =</span> <span class="fu">var</span>(swls2019_avg), </span>
<span id="cb42-6"><a href="tidyverse.html#cb42-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">sd_swls =</span> <span class="fu">sd</span>(swls2019_avg), </span>
<span id="cb42-7"><a href="tidyverse.html#cb42-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">total =</span> <span class="fu">n</span>())</span></code></pre></div>
<pre><code>## # A tibble: 1 x 6
##   avg_swls min_swls max_swls var_swls sd_swls total
##      &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt; &lt;int&gt;
## 1     4.35        2        6    0.588   0.767   343</code></pre>
</div>
<div id="group_by" class="section level3 hasAnchor" number="3.4.5">
<h3><span class="header-section-number">3.4.5</span> Group_by()<a href="tidyverse.html#group_by" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Sometimes, we might want to apply the same function to different groups of people. For example, we might want to know what the maximum swls score is for males and for females. We can use the <code>group_by()</code> function to do this.</p>
<p>Let’s say we’re interested to know the mean, minimum, maximum, variance, standard deviation, total number of participants for the variable swls2019_avg for males and females. .</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="tidyverse.html#cb44-1" aria-hidden="true" tabindex="-1"></a>swls2019_only <span class="sc">%&gt;%</span> </span>
<span id="cb44-2"><a href="tidyverse.html#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(gender) <span class="sc">%&gt;%</span> </span>
<span id="cb44-3"><a href="tidyverse.html#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">avg_swls =</span> <span class="fu">mean</span>(swls2019_avg), </span>
<span id="cb44-4"><a href="tidyverse.html#cb44-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">min_swls =</span> <span class="fu">min</span>(swls2019_avg), </span>
<span id="cb44-5"><a href="tidyverse.html#cb44-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">max_swls =</span> <span class="fu">max</span>(swls2019_avg), </span>
<span id="cb44-6"><a href="tidyverse.html#cb44-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">var_swls =</span> <span class="fu">var</span>(swls2019_avg), </span>
<span id="cb44-7"><a href="tidyverse.html#cb44-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">sd_swls =</span> <span class="fu">sd</span>(swls2019_avg), </span>
<span id="cb44-8"><a href="tidyverse.html#cb44-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">total =</span> <span class="fu">n</span>())</span></code></pre></div>
<pre><code>## # A tibble: 2 x 7
##   gender avg_swls min_swls max_swls var_swls sd_swls total
##   &lt;fct&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt; &lt;int&gt;
## 1 male       4.08        3      5.8    0.373   0.611   168
## 2 female     4.62        2      6      0.657   0.810   175</code></pre>
<p>At this point, you should realise that it is possible to combine different dplyr functions to achieve specific results. I encourage you to play around!</p>
<p>Now that you’ve gotten to this point, I think you’re ready to do your first assignment! Proceed to the <a href="tha1.html#tha1">next section</a>!</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="basics.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="tha1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/hueywoon/assignment/blob/master/02-tidyverse.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
